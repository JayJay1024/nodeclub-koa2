<%- extend('layout') %>

<% block('body', () => { %>

  <%- include('sidebar') %>

  <div id="content">
    <div class="panel">
      <div class="header">
        <% let tabs_tmp = [['all', '全部'], ['good', '精华']]; tabs_tmp.concat(tabs).forEach((pair) => {
          let value = pair[0];
          let text = pair[1]; %>
          <a href="<%= value ? '/?tab=' + value : '/' %>"
            class="topic-tab <%= value === tab ? 'current-tab' : '' %>"><%= text %></a>
        <% }) %>
      </div>
      <% if (typeof(topics) !== 'undefined' && topics.length > 0) { %>
      <div class="inner no-padding">
        <%- include('topic/list', {
        topics: topics,
        pages: pages,
        current_page: current_page,
        base: '/',
        tab: tab,
        proxy: proxy
        }) %>
      </div>
      <% } else { %>
      <div class="inner">
        <p>无话题</p>
      </div>
      <% } %>
    </div>
  </div>

<% }) %>
